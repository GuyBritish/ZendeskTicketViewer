<% layout("layouts/boilerplate") %>

<div class="row">
    <div class="col-md-8 offset-2">
        <h1> All tickets </h1>

        <% for (let ticket of tickets) { %>
            <div class="card mb-3">
                <div class="card-body hstack gap-2">
                    <div class="d-inline">    
                        <h5 class="card-title"> <%=ticket.subject%> </h5>
                        <p class="card-text text-muted"> <%=ticket.type%> </p>
                        <p class="card-text text-muted"> <%=ticket.tags%> </p>
                    </div>
                    <div class="ms-auto">
                        <a href="/tickets/details/<%=ticket.id%>" class="btn btn-primary"> View details </a>
                    </div>
                </div>
            </div>
        <% } %>  

        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">

                <% for (let pageNum = minPage; pageNum <= maxPage; ++pageNum) { %>
                    <li class="page-item <%= pageNum === currPage ? "active" : "" %>"><a class="page-link" href="/tickets/<%=pageNum%>"> <%=pageNum%> </a></li>
                <% } %>

            </ul>
        </nav>

    </div>
</div>